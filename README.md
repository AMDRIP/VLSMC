# RAND Elecorner 36 (VLSMC)

> Концептуальная 32-битная bare-metal операционная система архитектуры x86 | Build 0001

---

## О проекте

**RAND Elecorner 36** — это собственная операционная система с нуля. Проект эволюционировал из концептуального симулятора в полноценную ОС архитектуры x86, работающую на «голом железе» (или в эмуляторе вроде QEMU).

Текущая реализация включает:
* Свой двухстадийный загрузчик (Bootloader), умеющий читать FAT12/16.
* 32-битное ядро (Protected Mode), написанное на C++17.
* Менеджер физической (PMM) и виртуальной (VMM / Paging) памяти.
* Планировщик задач (Multitasking) и обработку аппаратных прерываний (PIC/IDT).
* Базовые драйверы ввода-вывода: Клавиатура и VGA (текстовый режим `0xB8000` и графический `Mode 13h` 320x200).
* Загрузчик форматов ELF и пользовательское пространство (Ring 3).
* Файловую систему FAT16.

## Стек технологий

ОС написана на низкоуровневых технологиях без использования сторонних высокоуровневых библиотек (freestanding):

* **Загрузчик (Bootloader):** Ассемблер x86 (NASM).
* **Ядро (Kernel) и Пользовательские программы (User Space):** C++17 (g++).
* **Сборка (Build System):** Bash-скрипт (`build.sh`), `mtools`, `qemu`.

## Требования для сборки

Для компиляции ядра и создания загрузочных образов дисков вам понадобятся:
- `nasm`
- Кросс-компилятор `x86_64-linux-gnu-gcc` / `g++` (или `i686-elf-gcc`)
- `mtools` (для утилит `mdir`, `mcopy`)
- `dosfstools` (для `mkfs.fat`)
- `qemu-system-i386` (для запуска)

## Сборка и запуск

Сборка полностью автоматизирована скриптом `build.sh`. Он компилирует загрузчик, ядро, пользовательские приложения и упаковывает всё это в образы дисков (`disk.img` и `data.img`).

```bash
# 1. Запустите скрипт сборки
./build.sh

# 2. Запустите ОС в эмуляторе QEMU
qemu-system-i386 -fda disk.img -hda data.img -boot a
```

По умолчанию скрипт:
1. Собирает загрузчик (`bootloader.bin`, `STAGE2.BIN`).
2. Собирает и линкует ядро (`KERNEL.BIN`).
3. Создает образ загрузочной дискеты `disk.img` (FAT12) и кладет туда ядро и Stage 2.
4. Создает образ жесткого диска `data.img` (FAT16), куда записывает тестовые файлы (`HELLO.TXT`) и демо-программу пользовательского пространства (`HELLO.ELF`).

## Структура репозитория

| Директория | Описание |
|------------|----------|
| `boot/`    | Исходники двухстадийного ассемблерного загрузчика (с LBA, FAT12, Memory Map). |
| `kernel/`  | Исходники 32-битного C++ ядра (PMM, VMM, IDT, Shell, VGA драйвер и др.). |
| `user/`    | Исходники тестовых программ для Ring 3 (`hello.c` → `HELLO.ELF`). |
| `docs/`    | Подробная техническая документация и планы по развитию архитектуры. |

## Документация

Подробную техническую информацию и планы развития можно найти в нашей документации (директория `docs/`):

- **[ARCHITECTURE.md](docs/ARCHITECTURE.md)** — Подробный разбор архитектуры текущего ядра, процесса загрузки, подсистем (VMM, PMM, HAL) и будущей микроядерной модели.
- **[boot/README.md](boot/README.md)** — Детальное описание работы двухстадийного загрузчика и процесса передачи управления ядру.

## Лицензия

*TBD*
