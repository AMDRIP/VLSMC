# RAND Elecorner 36 Bootloader

Этот каталог содержит концептуальный загрузочный сектор (bootloader), написанный на ассемблере x86 (16-bit real mode). 

## Зачем он нужен?
RAND Elecorner 36 — это операционная система-симулятор, написанная на C++ поверх Qt. Наш код выполняется как обычное приложение (процесс) в рамках вашей хостовой ОС (Windows/Linux/macOS), поэтому нам технически **не нужен** настоящий загрузчик.

Однако, в образовательных целях (и по просьбе архитектора!), мы добавили этот загрузчик. Он демонстрирует первый этап загрузки реальной "железной" операционной системы совместимой с IBM PC:

1. BIOS читает первый сектор (512 байт) загрузочного диска на физический адрес `0x7C00`.
2. BIOS передает управление на `0x7C00`, оставляя номер диска в `DL`.
3. Загрузчик настраивает сегментные регистры `DS`, `ES`, `SS`, и устанавливает указатель стека `SP`.
4. Загрузчик вызывает прерывание `int 0x13` (AH=02h), чтобы считать `N` секторов ядра с диска в оперативную память (например, по адресу `0x10000`).
5. Делается инструкция дальнего перехода (`jmp 0x1000:0x0000`), и управление передается ядру!

## Как собрать
Если у вас установлен компилятор **NASM**:
```bash
nasm -f bin bootloader.asm -o bootloader.bin
```

## Как протестировать (в эмуляторе QEMU)
Вы можете запустить этот код в виртуальной машине:
```bash
qemu-system-i386 -fda bootloader.bin
```
Вы увидите, как загрузится наш код, очистит экран, выведет текст и попытается найти ядро на "диске".

## Связь с симулятором (C++)
В нашем C++ симуляторе (`Kernel::boot`), мы пропускаем этот этап и "магически" оказываемся уже с настроенной памятью и готовыми подсистемами. Тем не менее, `BootLog`, который мы выводим в GUI во время инициализации `Kernel::boot()`, концептуально является **продолжением** этого ASM-кода (переход в защищенный режим, запуск планировщика, инициализация файловой системы и т.д).
