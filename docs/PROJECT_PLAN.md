# RAND Elecorner 36 — План Проекта

> **Концептуальный симулятор операционной системы**
> Build 0001

---

## О проекте

**RAND Elecorner 36** — десктопное приложение, моделирующее работу операционной системы: управление процессами, памятью, файловой системой, устройствами и пользователями с полноценным графическим интерфейсом.

### Стек технологий

| Компонент | Технология | Роль |
|-----------|-----------|------|
| Ядро ОС | **C++17** | Планировщик, менеджер памяти, файловая система, IPC, I/O |
| GUI | **Qt 6 + QML** | Рабочий стол, оконный менеджер, визуализации |
| Скрипты / Тесты | **Python 3.12 + PySide6** | Тестирование ядра, скрипты демонстраций |
| Приложения ОС | **TypeScript → JS** | Пользовательские приложения внутри симулятора |
| JS-движок | **QJSEngine** (встроен в Qt) | Исполнение приложений |
| Сборка | **CMake** | Единая система сборки |
| Тесты | **pytest + GoogleTest** | Тесты Python и C++ |

> Подробнее: [TECH_STACK.md](file:///y:/DEV/VLSMC/docs/TECH_STACK.md)

---

## Этап 0 — Фундамент и Архитектура

| # | Задача | Описание |
|---|--------|----------|
| 0.1 | Инициализация проекта | CMake, структура каталогов, зависимости |
| 0.2 | Архитектура ядра | Центральный «Kernel» — диспетчер подсистем |
| 0.3 | Система событий | Шина событий (Event Bus) для связи между модулями |
| 0.4 | Модель времени | Тиковая система: один «тик» = один квант работы ОС |
| 0.5 | Базовый Qt-каркас | Главное окно, структура QML, тема оформления |

---

## Этап 1 — Управление Процессами

| # | Задача | Описание |
|---|--------|----------|
| 1.1 | Модель процесса (PCB) | PID, состояние, приоритет, счётчик команд, используемая память |
| 1.2 | Жизненный цикл процесса | Новый → Готов → Выполняется → Ожидает → Завершён |
| 1.3 | Планировщик (Scheduler) | FCFS, Round Robin, Priority, Multilevel Queue |
| 1.4 | Создание / завершение процессов | Системные вызовы `fork()`, `exec()`, `exit()`, `kill()` |
| 1.5 | Визуализация | Таблица процессов, диаграмма состояний, очередь CPU |

---

## Этап 2 — Управление Памятью

| # | Задача | Описание |
|---|--------|----------|
| 2.1 | Физическая память | Массив фреймов фиксированного размера |
| 2.2 | Виртуальная память | Таблица страниц для каждого процесса |
| 2.3 | Выделение / освобождение | First Fit, Best Fit, Worst Fit |
| 2.4 | Подкачка (Paging) | Алгоритмы замещения: FIFO, LRU, OPT |
| 2.5 | Визуализация | Карта памяти, таблица страниц, статистика |
| 2.6 | Синхронизация | Семафоры, мьютексы, спин-блокировки |

---

## Этап 3 — Файловая Система

| # | Задача | Описание |
|---|--------|----------|
| 3.1 | Структура ФС | Иерархия каталогов, иноды, блоки данных |
| 3.2 | Операции с файлами | `create`, `open`, `read`, `write`, `delete`, `rename` |
| 3.3 | Операции с каталогами | `mkdir`, `rmdir`, `ls`, `cd` |
| 3.4 | Права доступа | Модель rwx (владелец / группа / остальные) |
| 3.5 | Распределение блоков | Непрерывное, связанное, индексное |
| 3.6 | Визуализация | Дерево каталогов, карта блоков, таблица инодов |

---

## Этап 4 — Управление Устройствами (I/O)

| # | Задача | Описание |
|---|--------|----------|
| 4.1 | Модель устройства | Тип (блочное/символьное), статус, очередь запросов |
| 4.2 | Драйверы | Абстракция: `read()`, `write()`, `init()` |
| 4.3 | Планирование I/O | FCFS, SSTF, SCAN |
| 4.4 | Прерывания | Механизм обработки прерываний от устройств |
| 4.5 | Визуализация | Список устройств, очереди, лог прерываний |

---

## Этап 5 — Межпроцессное Взаимодействие (IPC)

| # | Задача | Описание |
|---|--------|----------|
| 5.1 | Семафоры | Счётные и бинарные |
| 5.2 | Мьютексы | Взаимное исключение |
| 5.3 | Каналы (Pipes) | Однонаправленный обмен данными |
| 5.4 | Очереди сообщений | Асинхронный обмен |
| 5.5 | Обнаружение тупиков | Алгоритм банкира, граф ожидания |
| 5.6 | Визуализация | Граф зависимостей, журнал, индикация deadlock |

---

## Этап 6 — Терминал и Системные Вызовы

| # | Задача | Описание |
|---|--------|----------|
| 6.1 | Эмулятор терминала | Командная строка с интерпретатором |
| 6.2 | Встроенные команды | `ps`, `kill`, `mem`, `ls`, `cat`, `mkdir`, `help` и др. |
| 6.3 | API системных вызовов | Слой между пользовательским пространством и ядром |
| 6.4 | История команд | Журнал с навигацией |

---

## Этап 7 — Пользователи и Безопасность

| # | Задача | Описание |
|---|--------|----------|
| 7.1 | Учётные записи | Создание, удаление, смена пользователя |
| 7.2 | Аутентификация | Логин / пароль, сессии |
| 7.3 | Права и роли | root, обычный пользователь, группы |
| 7.4 | Журнал аудита | Логирование действий |

---

## Этап 8 — Прикладные Приложения (App Platform)

| # | Задача | Описание |
|---|--------|----------|
| 8.1 | JS-движок (QJSEngine) | Интеграция, песочница, ограничение ресурсов |
| 8.2 | App SDK (VLSMC API) | API для разработчиков: окна, ФС, процессы, IPC |
| 8.3 | Формат пакетов | `.vlsmc-pkg`, `manifest.json`, валидация |
| 8.4 | Менеджер пакетов | Установка, удаление, обновление, реестр |
| 8.5 | UI Bridge | Связь JS-приложений с Qt-окнами |

> Подробнее: [APP_SDK.md](file:///y:/DEV/VLSMC/docs/APP_SDK.md), [PACKAGE_FORMAT.md](file:///y:/DEV/VLSMC/docs/PACKAGE_FORMAT.md)

---

## Этап 9 — Графический Интерфейс (GUI)

| # | Задача | Описание |
|---|--------|----------|
| 9.1 | Экран загрузки (Boot) | Анимация POST, инициализация ядра |
| 9.2 | Экран входа | Аутентификация пользователя |
| 9.3 | Рабочий стол | Панель задач, меню «Пуск», обои |
| 9.4 | Оконный менеджер | Перемещение, изменение размера, сворачивание |
| 9.5 | Системные приложения | Терминал, Диспетчер задач, Файловый менеджер, Монитор |
| 9.6 | Темы и настройки | Светлая/тёмная тема, обои, параметры |

---

## Этап 10 — Сеть (опционально)

| # | Задача | Описание |
|---|--------|----------|
| 10.1 | Стек TCP/IP | Упрощённая модель |
| 10.2 | Сокеты | API для сетевого общения |
| 10.3 | DNS | Простейшее разрешение имён |
| 10.4 | Визуализация | Схема соединений |

---

## Порядок реализации

```
Этап 0 → Этап 1 → Этап 2 → Этап 6 → Этап 3 → Этап 4
                                                   ↓
Этап 5 → Этап 7 → Этап 8 → Этап 9 → Этап 10
```

> ⚠️ Этапы 0–6 формируют **MVP**.
> Этапы 7–10 расширяют до полноценного симулятора.
