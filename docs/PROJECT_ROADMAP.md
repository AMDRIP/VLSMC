# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ VLSMC (–ê–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞–Ω–∞–ª–∏–∑ —á–µ–∫-–ª–∏—Å—Ç–∞ ¬´–ë—É–¥—É—â–µ–π –û–°¬ª –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã VLSMC.

## üü¢ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ö–æ—Ä–æ—à–æ
*–≠—Ç–∏ –ø—É–Ω–∫—Ç—ã —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.*

1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ Ring 0 –∏ Ring 3**: –Ø–¥—Ä–æ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Ring 3 —Å –∏–∑–æ–ª—è—Ü–∏–µ–π.
2.  **–ó–∞–≥—Ä—É–∑–∫–∞ ELF**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ ELF-–±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
3.  **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ FAT16**: –ù–∞–¥–µ–∂–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –Ω—É–∂–¥ –û–°.
4.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç—å—é (VMM)**: –ü–µ–π–¥–∂–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –µ—Å—Ç—å –±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–µ–Ω–∏–≤–æ–π –∞–ª–ª–æ–∫–∞—Ü–∏–∏.
5.  **–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
6.  **–°—Ö–µ–º—ã —Å–±–æ—Ä–∫–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `build.sh` –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `freestanding` –æ–∫—Ä—É–∂–µ–Ω–∏—è.
7.  **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã API**: –ù–∞–ª–∏—á–∏–µ `AppAPI` –∏ `DriverAPI` –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –¥–ª—è –±—É–¥—É—â–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
8. 

## üü° –†–∏—Å–∫–∏ –∏ –£—Ç–æ—á–Ω–µ–Ω–∏—è
*–ü—É–Ω–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–∑-–∑–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.*

1.  **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å —è–¥—Ä–∞**: –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–ª–∏–∂–µ –∫ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π. –î–ª—è –ª–µ–≥–∫–æ–π –∑–∞–º–µ–Ω—ã –¥—Ä–∞–π–≤–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞) –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ —Ä–∞–∑–≤–∏—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–∏–∫—Ä–æ—è–¥–µ—Ä–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º. –≠—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –º–∏–∫—Ä–æ—è–¥–µ—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫  
2.  **Malloc –∏ –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è**: –ë–∞–∑–æ–≤—ã–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –≤ —è–¥—Ä–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `user-mode` —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è `coalescing` –∏ `free lists` (—Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Libc), –∏–Ω–∞—á–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –±—ã—Å—Ç—Ä–æ –∏—Å—á–µ—Ä–ø—ã–≤–∞—Ç—å –∫—É—á—É.
3.  **–ó–∞—â–∏—Ç–∞ —Å—Ç–µ–∫–∞**: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `-fstack-protector`, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `__stack_chk_fail` –≤ Libc –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏.
4.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤**: –Ø–¥—Ä–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ (`Permissions`), –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥ –º–æ–≥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.

## üî¥ –ü—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
*–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –û–°.*

1.  **Fork + Exec (CoW)**: –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ –ª–∏—à—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è. –¢—Ä–µ–±—É–µ—Ç—Å—è –≥–ª—É–±–æ–∫–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è VMM –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü "—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è" –∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏.
2.  **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è Libc**: –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç `libc.h` –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–π —Ö–æ—Ç—è –±—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç POSIX.
3.  **AHCI / DMA**: –ü–µ—Ä–µ—Ö–æ–¥ —Å –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ ATA PIO –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π AHCI –¥—Ä–∞–π–≤–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PRDT –∏ –ø—Ä—è–º–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ø–∞–º—è—Ç—å.
4.  **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ—Ü–µ—Å—Å–∞**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `wait()` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ó–æ–º–±–∏-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
5.  **–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ VESA –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä–∞ –æ–∫–æ–Ω –Ω–∞ –±–∞–∑–µ Shared Memory.
6.  **–°–µ—Ç–µ–≤–æ–π —Å—Ç–µ–∫**: –ù–∞–ø–∏—Å–∞–Ω–∏–µ Layer 2-4 —É—Ä–æ–≤–Ω–µ–π (Ethernet, IP, TCP/UDP).
7.  **VFS (–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –§–°)**: –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç FAT16 –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∏—Å–∫–æ–≤ –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
8.  **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `.so` —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞.

---

## –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å: **–ê–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω–æ–µ —è–¥—Ä–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç "–º—è—Å–∞" –≤ –≤–∏–¥–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
